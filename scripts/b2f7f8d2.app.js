"use strict";function filterAndSort(a){var b=a.filter(function(a){return a.date=new Date(a.date),!!a.visible});return b=b.sort(function(a,b){return b.date.getTime()-a.date.getTime()})}function updateScopedText(a){var b=a.site.language;i18nManager.reload(b),angular.forEach(a.labels,function(a){a.originalText=a.text(),a.text(i18nManager.getStr(a.originalText))}),a.labels=[],a.translated=!0}var jsonId="1400973788289";angular.createApp({name:"ghBlog","static":!0,hashPrefix:"!",extendModules:["angular-md5","pagination"],screens:{home:{first:!0,components:{title:"Home",templateUrl:"partials/home.html",controller:"HomeCtrl"}},cv:{components:{title:"CV",templateUrl:"partials/cv.html",controller:["$scope","$rootScope","$cacheHttp",function(a,b,c){c.get("/config/json/cv.json?d="+jsonId).success(function(c){a.experiences=c.cv.experiences,a.formations=c.cv.formations;var d=[];angular.forEach(c.cv.links,function(a,b){angular.isEmpty(a)||d.push({title:b,href:a})}),a.links=d,b.hasLinks=d.length>0}),c.get("/config/json/skills.json?d="+jsonId).success(function(c){c.skills?a.mySkills=c.skills:b.hasSkills=!1}).error(function(){b.hasSkills=!1})}]}},articles:{components:{title:"Blog",templateUrl:"partials/blog.html",controller:["$scope","$rootScope","$cacheHttp",function(a,b,c){a.title="Blog",a.total="",a.articles=[],a.currentPage=0,a.pageSize=1,c.get("/config/json/blog.json?d="+jsonId).success(function(b){a.articles=filterAndSort(b.articles),a.total=a.articles.length})}]}},"articles/:articleId":{components:{title:["$routeParams",function(a){return["blog",a.articleId]}],templateUrl:"partials/article.html",controller:["$scope","$rootScope","$routeParams","$cacheHttp","$location",function(a,b,c,d,e){var f=c.articleId;d.get("/config/json/blog.json?d="+jsonId).success(function(c){var d=!1;angular.forEach(c.articles,function(b){b.id==f&&b.visible&&(a.article=b,d=!0)}),d||(e.path("/articles"),b.errorMsg=i18nManager.getStr("Article '%0' not found !",f))})}]}},reminders:{components:{title:"Reminders",templateUrl:"partials/reminders.html",controller:["$scope","$rootScope","$cacheHttp",function(a,b,c){a.title="Reminders",a.total="",a.reminders=[],a.currentPage=0,a.pageSize=1,c.get("/config/json/reminders.json?d="+jsonId).success(function(b){a.reminders=filterAndSort(b.reminders),a.total=a.reminders.length})}]}},"reminders/:reminderId":{components:{title:["$routeParams",function(a){return["reminders",a.reminderId]}],templateUrl:"partials/reminder.html",controller:["$scope","$rootScope","$routeParams","$cacheHttp","$location",function(a,b,c,d,e){var f=c.reminderId;d.get("/config/json/reminders.json?d="+jsonId).success(function(c){var d=!1;angular.forEach(c.reminders,function(b){b.id==f&&b.visible&&(a.reminder=b,d=!0)}),d||(e.path("/reminders"),b.errorMsg=i18nManager.getStr("Reminder '%0' not found !",f))})}]}}},initConfig:["$cacheHttp","$q","$rootScope",function(a,b,c){var d=b.defer();a.get("/config/json/site.json?d="+jsonId).success(function(a){d.resolve(a)}).error(function(a){d.reject(a)}),c.promiseConfig=d.promise}],routeChangeStart:["$injector","$rootScope","$location","$log","$timeout",function(a,b,c){function d(){var d=this.next.title instanceof Array?a.invoke(this.next.title)[0]:angular.lowercase(this.next.title);b.site&&!b.site[d]&&c.path("/")}function e(){return b.site&&d.call(f),b.promiseConfig.then(function(a){if(!a.site)throw Error("Please ensure that the configuration file is like the one gave by github.");b.site=a.site,b.cssMarkdown=b.site.cssMarkdown,b.fullname=b.site.name+" "+b.site.lastname,b.disqusShortname=b.site.disqus?b.site.disqus.shortname:"",b.hasPicture=b.site.picture&&(null!=b.site.picture.img||null!=b.site.picture.github||null!=b.site.picture.gravatar),b.hasDescriptions=b.site.descriptions&&(null!=b.site.descriptions.en||null!=b.site.descriptions.fr),b.hasInfos=b.hasPicture||b.hasDescriptions,b.hasSkills=b.site.skills||!1,b.hasBlog=a.site.blog||!1,b.hasReminders=a.site.reminders||!1}).then(function(){d.call(f)})}var f=this;b.translated=!1,this.next.resolve=angular.extend(this.next.resolve||{},{__ready__:e})}],routeChangeSuccess:["$injector","$rootScope","$timeout","$anchorScroll","$log",function(a,b,c,d){var e=this.current.$$route.title;b.pageTitle=e instanceof Array?a.invoke(e)[1]:i18nManager.getStr(e),b.$on("$viewContentLoaded",function(){c(function(){updateScopedText(b),d()})})}]});var LANGUAGE={},i18nManager=function(){function a(a){c=a||"fr"}function b(){if(0==arguments.length)return null;var a=arguments[0],d=a;if(LANGUAGE[c]&&null!=LANGUAGE[c][a]&&(d=LANGUAGE[c][a]),arguments.length<2||"string"!=typeof d)return d;var e,f=new Array;for(e=1;e<arguments.length;e++)f.push(b(arguments[e]));for(e=0;e<f.length;e++)d=d.replace("%"+e,f[e]);return d}var c="fr";return{reload:a,getStr:b}}();app.directive("i18n",["$rootScope",function(a){return{restrict:"A",link:function(b,c){a.labels=a.labels||[],c.originalText||a.labels.push(c)}}}]),app.directive("repeatI18n",["$timeout","$rootScope",function(a,b){return{restrict:"A",link:function(c){c.$last===!0&&a(function(){updateScopedText(b)})}}}]),app.directive("age",function(){return{restrict:"A",scope:{age:"@age"},link:function(a,b){function c(a){var b=+new Date(a);return~~((Date.now()-b)/315576e5)}var d=c(a.age);b.html(i18nManager.getStr("%0 year old",d))}}}),app.directive("me",["$rootScope","$window","md5",function(a,b,c){return{restrict:"A",link:function(d,e){var f=a.site.picture,g=f.img,h=f.github,i=f.gravatar;if(g)e.attr("src",g);else if(h){var j=b.document,k=j.createElement("script");k.src="https://api.github.com/users/"+h+"?format=json&callback=showMe",(j.getElementsByTagName("head")[0]||j.getElementsByTagName("body")[0]).appendChild(k),b.showMe=function(a){e.attr("src",a.data.avatar_url)}}else i&&e.attr("src","http://www.gravatar.com/avatar/"+c.createHash(i))}}}]);var template_icon='<span class="glyphicon glyphicon-star"></span>',template_icon_half='<span class="glyphicon glyphicon-half"><span class="glyphicon glyphicon-star half left"></span><span class="glyphicon glyphicon-star-empty half right"></span></span>',template_icon_empty='<span class="glyphicon glyphicon-star-empty"></span>';app.directive("stars",["$rootScope",function(a){return{restrict:"A",link:function(b,c){a.stars=a.stars||[],a.stars.push(c)}}}]),app.directive("repeatStars",["$timeout","$window",function(a,b){return{restrict:"A",link:function(c){c.$last===!0&&a(function(){var a,d,e;angular.forEach(c.stars,function(c){a=angular.int(c.attr("stars-level")),d=Math.max(0,8-Math.min(8,Math.floor(a/12.5))),e="";for(var f=0,g=4-Math.ceil(d/2);g>f;f++)e+=template_icon;d%2==1&&(e+=template_icon_half);for(var h=0,g=Math.floor(d/2);g>h;h++)e+=template_icon_empty;c.html(e).css({color:c.attr("stars-color"),position:"relative",left:"10px"}).after(b.document.createElement("hr"))})})}}}]);var skills_loaded=!1;app.directive("skills",["$rootScope",function(a){return{restrict:"A",link:function(b,c){a.skills=a.skills||[],a.skills.push(c)}}}]),app.directive("repeatSkills",["$timeout",function(a){return{restrict:"A",link:function(b){b.$last===!0&&(skills_loaded||angular.element("mySkills").addClass("animated"),a(function(){angular.forEach(b.skills,function(a){a.css({backgroundColor:a.attr("skills-color"),width:a.attr("skills-level")+"%"})}),skills_loaded||b.skills[0].transitionEnd(function(){var a=angular.element("mySkills");a&&(a.removeClass("animated"),skills_loaded=!0)})}))}}}]),app.directive("transformMarkdown",["$cacheHttp","$templateCache","$window",function(a,b,c){return{restrict:"A",link:function(d,e,f){var g=f.transformMarkdown;if(g&&!e.loaded){if(null==angular.element("markdown-style-id")){var h=c.document.createElement("link");h.id="markdown-style-id",h.rel="stylesheet",h.href="bower_components/highlightjs/styles/"+(f.cssMarkdown||"github.css"),(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(h)}b.get(g)?e.html(b.get(g)):a.get(g).success(function(a){var c=new marked.Renderer;c.code=function(a,b){return a=hljs.highlightAuto(a).value,"<pre"+(b?' class="hljs '+this.options.langPrefix+b+'"':' class="hljs"')+"><code>"+a+"\n</code></pre>\n"},marked(a,{highlight:function(a){return hljs.highlightAuto(a).value},renderer:c},function(a,c){if(a)throw a;e.html(c),e.loaded=!0,b.put(g,c)})})}}}}]),app.directive("backButton",["$window",function(a){return{restrict:"A",link:function(b,c){c.addClass("pull-right"),c.bind("click",function(){a.history.back(),b.$apply()})}}}]),angular.forEach(["top","bottom"],function(a){app.directive("scroll"+angular.upperFirstCase(a)+"Button",["$location","$anchorScroll","$document","$window",function(b,c,d){return{restrict:"A",link:function(b,c){c.addClass("pull-right"),c.bind("click",function(){angular.scrollTo(d[0],a,1e3)})}}}])}),app.directive("disqus",["$window","$location",function(a,b){return{restrict:"A",transclude:!0,scope:{ajaxApp:"@ajaxApp",shortname:"@shortname",identifier:"@identifier",title:"@title",url:"@url",category_id:"@categoryId",disable_mobile:"@disableMobile"},template:'<div id="disqus_thread"></div><a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>',link:function(c){if("undefined"==typeof c.shortname||""==c.shortname)throw Error("Please ensure that the `shortname` attribute is set to use Disqus.");c.$watch("identifier",function(a){""!=a&&d()});var d=function(){if("undefined"==typeof a.DISQUS){var d=document.createElement("script");d.type="text/javascript",d.async=!0,d.src="//"+c.shortname+".disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(d)}else a.DISQUS.reset({reload:!0,config:function(){this.page.identifier=c.identifier,this.page.url=c.ajaxApp?b.absUrl():c.url,this.page.title=c.title}});e()},e=function(){a.disqus_shortname=c.shortname,a.disqus_identifier=c.identifier,a.disqus_url=c.ajaxApp?b.absUrl():c.url,a.disqus_title=c.title,a.disqus_category_id=c.category_id||null,a.disqus_disable_mobile=c.disable_mobile||!1}}}}]),app.directive("shareButtons",["$window",function(a){return{restrict:"A",scope:{services:"@services",url:"@url",title:"@title",lang:"@lang"},template3:'<div class="hupso-share-buttons"><a class="hupso_counters" href="http://www.hupso.com/share/"><img src="http://static.hupso.com/share/buttons/lang/fr/share-small.png" style="border:0px; padding-top:2px; float:left;" alt="Share Button"/></a></div>',template2:'<div class="hupso-share-buttons"><a class="hupso_pop" href="http://www.hupso.com/share/"><img src="http://static.hupso.com/share/buttons/button100x23.png" style="border:0px; width:100; height: 23; " alt="Share Button" /></a></div>',template:'<div class="hupso-share-buttons"><a class="hupso_toolbar" href="http://www.hupso.com/share/"><img src="http://static.hupso.com/share/buttons/share.png" style="border:0px; padding-top:5px; float:left;" alt="Share Button"/></a></div>',link:function(b,c){if("undefined"==typeof b.title)throw"Please ensure that the `title` attribute is set.";b.$watch("title",function(a){""!=a&&d()});var d=function(){a.FB&&(a.FB=null,angular.element("facebook-jssdk").remove(),angular.element("twitter-wjs").remove());var d;d=b.services?b.services.split(","):new Array("Twitter","Facebook","Google Plus","Pinterest","Linkedin","Tumblr"),a.hupso_services_t=d,a.hupso_url_t=b.url,a.hupso_title_t=b.title,a.hupso_toolbar_size_t="big",a.hupso_lang_t=b.lang||"fr_FR";var e=document.createElement("script");e.type="text/javascript",e.src="http://static.hupso.com/share/js/share_toolbar.js",c.append(e)}}}}]),app.controller("HomeCtrl",["$scope","$rootScope","$timeout","$cacheHttp","screenLoader",function(a,b,c,d){a.descriptions=b.hasDescriptions&&b.site.descriptions[b.site.language],b.hasSkills&&d.get("/config/json/skills.json?d="+jsonId).success(function(c){c.skills?a.mySkills=c.skills:b.hasSkills=!1}).error(function(){b.hasSkills=!1}),b.hasBlog&&d.get("/config/json/blog.json?d="+jsonId).success(function(c){if(c.articles){var d=filterAndSort(c.articles);a.articles=d.slice(0,5)}else b.hasBlog=!1}).error(function(){b.hasBlog=!1}),b.hasReminders&&d.get("/config/json/reminders.json?d="+jsonId).success(function(c){if(c.reminders){var d=filterAndSort(c.reminders);a.reminders=d.slice(0,5)}else b.hasReminders=!1}).error(function(){b.hasReminders=!1})}]),app.controller("HeaderCtrl",["$scope","$rootScope","$location","$cacheHttp",function(a,b,c,d){d.get("/json/menu.json?d="+jsonId).success(function(c){var d=[];angular.forEach(c.menu,function(a){(""==a.link||b.site[angular.lowercase(a.title)])&&d.push(a)}),a.menu=d});var e=b.site;a.header={logo:e.logo,mail:e.mail,name:e.name,lastname:e.lastname,birthday:e.birthday,title:e.title[b.site.language],town:e.town,country:e.country},a.isActive=function(a){var b=c.path();b=b.substring(1);var d=a;return angular.screenConfig.static&&(d=d.replace(new RegExp("#"+angular.screenConfig.hashPrefix,"gi"),"")),d===b||""!==a&&b.indexOf(d+"/")>-1},a.resetMessages=function(){b.errorMsg=""}}]),app.controller("FooterCtrl",["$scope","$rootScope",function(a,b){a.footer=b.site.footer}]),LANGUAGE.fr={Home:"Accueil",CV:"CV",Blog:"Blog",Reminders:"Penses-bêtes",Projects:"Projets","About me":"A propos de moi","%0 year old":"%0 ans",Experiences:"Expériences",Skills:"Compétences",Links:"Liens","From the blog":"Derniers articles","From the reminders":"Derniers penses-bêtes","View details":"Plus d'infos","Read more":"Lire la suite",Sort:"Tri",Title:"Titre",Date:"Date",Previous:"Précédente",Next:"Suivante","Page size":"Nombre par page",Top:"Haut de page",Back:"Retour","Article '%0' not found !":"Article '%0' non trouvé","Reminder '%0' not found !":"Pense-bête '%0' non trouvé"};
